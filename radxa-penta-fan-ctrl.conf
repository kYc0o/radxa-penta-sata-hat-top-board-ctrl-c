[fan]
# Raspberry Pi 5 optimized temperature thresholds
# RPi 5 typically operates: 40-50°C idle, 60-70°C moderate load, 75-80°C heavy load
# Throttling starts at 85°C, so we want to keep it well below that
# These settings are more conservative with hysteresis to prevent oscillation
lv0 = 55
lv1 = 62
lv2 = 70
lv3 = 78

[fan_ssd]
# SSD temperature thresholds
# Most SSDs are safe up to 70°C, but we want to keep them cooler
# Note: Fan extracts hot air from top, indirectly cooling SSDs below
lv0 = 45
lv1 = 50
lv2 = 55
lv3 = 60

[thermal]
# Thermal control tunables (optional). If omitted, sensible defaults are used.
# You can also override any of these with environment variables in radxa-penta-fan-ctrl.env:
# RADXA_HYSTERESIS_C, RADXA_DEADBAND_C, RADXA_TREND_HEAT_C, RADXA_TREND_FAST_HEAT_C,
# RADXA_MAX_DC_CHANGE, RADXA_UP_RATE_BASE, RADXA_UP_RATE_TREND_GAIN,
# RADXA_UP_RATE_MAX, RADXA_DOWN_RATE, RADXA_COOLDOWN_HOLD_SEC

# Degrees C hysteresis applied when COOLING to avoid oscillation around thresholds
# Default: 3.0
hysteresis = 3.0

# Degrees C dead-band: ignore small temp changes to reduce duty chatter
# Default: 1.5
deadband = 1.5

# Degrees C per window considered as HEATING; below this is treated as cooling/steady
# Default: 0.3
trend_heat = 0.3

# Degrees C per window considered as FAST HEATING, allowing quicker ramp
# Default: 1.0
trend_fast_heat = 1.0

# Max duty cycle change per control cycle (0.10 = 10%) for smooth fan ramps (legacy)
# Default: 0.10
max_dc_change = 0.10

# Base upward ramp per control cycle (fraction). Lower values reduce sensitivity to small temp bumps.
# Default: 0.07 (7%)
up_rate_base = 0.07

# Upward ramp added per +1°C positive trend (responsive to rapid heating)
# Default: 0.20 (adds 20% per cycle per +1°C trend - strong response to rapid temperature increase)
up_rate_trend_gain = 0.20

# Maximum upward ramp per cycle cap (fraction)
# Default: 0.30 (30%)
up_rate_max = 0.30

# Downward ramp per cycle (fraction). Keeps decreases gentle.
# Default: 0.05 (5%)
down_rate = 0.05

# After any increase in duty, keep the fan from decreasing for this many seconds
# Default: 20 seconds
cooldown_hold_sec = 20
